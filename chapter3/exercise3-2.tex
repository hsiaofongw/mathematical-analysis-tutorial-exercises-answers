\exercise

2. 利用$1+x+\cdots +x^n$的求和公式，求出下列各式的和：
\begin{tasks}(1)
    \task $1+2x+3x^2+\cdots+nx^{n-1}$;
    \task $\displaystyle\sum_{k=1}^n \displaystyle\frac{k}{2^{k-1}}$;
    \task $1^2+2^2 x + 3^2 x^2 + \cdots + n^2 x^{n-1}$.
\end{tasks}

(1) \solve 令原式等于$S(n)$，利用裂项相消法：
\begin{align}
    S(n) - x S(n) &= (1-x)S(n) \\
    &= \sum_{k=1}^n k x^{k-1} - x \sum_{k=1}^{n} k x^{k-1} \\
    &= \sum_{k=1}^n k x^{k-1} - \sum_{k=1}^{n} k x^k \\
    &= 1 + \sum_{k=2}^{n} k x^{k-1} - \sum_{k=1}^{n} kx^{k} \\
    &= 1 + \sum_{k=1}^{n-1} (k+1) x^k - \sum_{k=1}^{n} k x^{k} \\
    &= 1 - n x^n + \sum_{k=1}^{n-1} (k+1) x^k - \sum_{k=1}^{n-1} k x^{k} \\
    &= 1 - nx^n + \sum_{k=1}^{n-1} x^k \\
    &= 1 - nx^n + x \sum_{k=1}^{n-1} x^{k-1} \\
    &= 1 - nx^n + x \cdot \frac{1-x^{n-1}}{1-x}
\end{align}
于是有
\begin{align}
    S(n) &= \frac{(1-x)S(n)}{1-x} \\
    &= \frac{1-nx^n}{1-x} + x \cdot \frac{1-x^{n-1}}{(1-x)^2}.
\end{align}
\qed\bigskip

(2) \solve 代入题(1)的结论即可：
\begin{align}
    \sum_{k=1}^{n} \frac{k}{2^{k-1}} &= \sum_{k=1}^n k \cdot \left( \frac{1}{2} \right)^{k-1} \\
    &= \frac{1}{2} + 2 \cdot \left(\displaystyle\frac{1}{2}\right) + 3 \cdot \left(\displaystyle\frac{1}{2}\right)^2 + \cdots + n \cdot \left(\displaystyle\frac{1}{2}\right)^{n-1} \\
    &= \frac{1 - n \left(\displaystyle\frac{1}{2}\right)^n}{1 - \displaystyle\frac{1}{2}} + \left(\displaystyle\frac{1}{2}\right) \cdot \frac{1 - \left(\displaystyle\frac{1}{2}\right)^{n-1}}{\left(1-\displaystyle\frac{1}{2}\right)^2}.
\end{align}
\qed\bigskip

(3) \solve 令原式为$S(n)$，采用裂项相消法：
\begin{align}
    S(n) - xS(n) &= (1-x)S(n) \\
    &= \sum_{k=1}^n k^2 x^{k-1} - x \sum_{k=1}^{n} k^2 x^{k-1} \\
    &= 1 + \sum_{k=2}^{n} k^2 x^{k-1} - \sum_{k=1}^{n} k^2 x^k \\
    &= 1 - n^2 x^n + \sum_{k=1}^{n-1} (k+1)^2 x^k - \sum_{k=1}^{n-1} k^2 x^k \\
    &= 1 - n^2 x^n + \sum_{k=1}^{n-1} \left((k+1)^2 - k^2 \right) x^k \\
    &= 1 - n^2 x^n + \sum_{k=1}^{n-1} \left(2k + 1 \right) x^k \\
    &= 1 - n^2 x^n + \sum_{k=2}^{n} \left(2k - 1 \right) x^{k-1} \\
    &= \left(\sum_{k=1}^{n} \left(2k - 1 \right) x^{k-1} \right) - n^2 x^n 
\end{align}
令
\begin{equation}
    P(n) = \sum_{k=1}^n k x^{k-1}, \quad Q(n) = \sum_{k=1}^n x^{k-1}
\end{equation}
那么
\begin{align}
    2P(n)-Q(n) &= 2 \sum_{k=1}^n k x^{k-1} - \sum_{k=1}^n x^{k-1} \\
    &= \sum_{k=1}^n 2k x^{k-1} - \sum_{k=1}^n x^{k-1} \\
    &= \sum_{k=1}^n (2k-1) x^{k-1}
\end{align}
那么
\begin{align}
    (1-x)S(n) &= \left(\sum_{k=1}^{n} \left(2k - 1 \right) x^{k-1} \right) - n^2 x^n \\
    &= 2P(n) - Q(n) - n^2 x^n
\end{align}
从而
\begin{equation}
    S(n) = \frac{2P(n)-Q(n)-n^2 x^n}{1-x}.
\end{equation}
\qed\bigskip

3. 证明组合恒等式：
\begin{tasks}(1)
    \task $\displaystyle\sum_{k=1}^n k \binom{n}{k} = n 2^{n-1} \; (n \in \nat)$;
    \task $\displaystyle\sum_{k=1}^n k^2 \binom{n}{k} = n(n+1)2^{n-2} \; (n \in \nat)$.
\end{tasks}

(1) \prove 令$S(n) = \displaystyle\sum_{k=1}^{n} k \binom{n}{k}$，则
\begin{align}
    \text{左边} &= \sum_{k=1}^{n} k \binom{n}{k} \\
    &= S(n) \\
    &= S(n) - S(n-1) + S(n-1) \\
    &= (S(n) - S(n-1)) + S(n-1)
\end{align}
我们先来算$S(n)-S(n-1)$，看它等于多少：
\begin{align}
    \text{它} &= S(n) - S(n-1) \\
    &= \sum_{k = 1}^{n} k \binom{n}{k} - \sum_{k = 1}^{n-1} k \binom{n-1}{k} \\
    &= n \binom{n}{n} + \sum_{k=1}^{n-1} k \left(\binom{n}{k} - \binom{n-1}{k}\right) \\
    &= n \binom{n}{n} + \sum_{k=1}^{n-1} k \binom{n-1}{k-1} \\
    &= n + \binom{n-1}{0} + 2 \binom{n-1}{1} + \cdots + (n-2)\binom{n-1}{n-3} + (n-1)\binom{n-1}{n-2}
\end{align}
我们再来看$S(n-1)$等于多少：
\begin{align}
    S(n-1) &= \sum_{k=1}^{n-1} k \binom{n-1}{k} \\
    &= \binom{n-1}{1} + 2\binom{n-1}{2} + \cdots + (n-2)\binom{n-1}{n-2} + (n-1)\binom{n-1}{n-1} \\
    &= (n-1) \binom{n-1}{n-1} + (n-2)\binom{n-1}{n-2} + \cdots + 2 \binom{n-1}{2} + \binom{n-1}{1} \\
    &= (n-1) \binom{n-1}{0} + (n-2)\binom{n-1}{1} + \cdots + 2 \binom{n-1}{n-3} + \binom{n-1}{n-2}
\end{align}
所以$S(n)-S(n-1)$加上$S(n-1)$就等于：
\begin{align}
    &\mathrel{\phantom{=}} S(n) - S(n-1) + S(n-1) \\
    &= n + \binom{n-1}{0} + 2 \binom{n-1}{1} + \cdots + (n-2)\binom{n-1}{n-3} + (n-1)\binom{n-1}{n-2} \\
    &+ (n-1) \binom{n-1}{0} + (n-2)\binom{n-1}{1} + \cdots + 2 \binom{n-1}{n-3} + \binom{n-1}{n-2} \\
    &= n + n \binom{n-1}{0} + n \binom{n-1}{1} + \cdots + n\binom{n-1}{n-2} \\
    &= n + n (\binom{n-1}{0} +  \binom{n-1}{1} + \cdots + \binom{n-1}{n-2} + \binom{n-1}{n-1}) - n\binom{n-1}{n-1} \\
    &= n (\binom{n-1}{0} +  \binom{n-1}{1} + \cdots + \binom{n-1}{n-2} + \binom{n-1}{n-1}) \\
    &= n 2^{n-1}.
\end{align}
这就证明了$S(n) = n 2^{n-1}$．\qed\bigskip

(2) \prove 采用数学归纳法．当$n=1$时
\begin{align}
    \text{左边} &= \sum_{k=1}^1 k^2 \binom{n}{k} = 1 \binom{1}{1} = 1 = 1(1+1) 2^{1-2} = \text{右边}.
\end{align}
也就是说当$n=1$时待证等式成立．

对一般的$n \in \nat$，令
\begin{equation}
    S(n) = \sum_{k=1}^n k^2 \binom{n}{k}
\end{equation}
于是我们有
\begin{align}
    S(n) &= \sum_{k=1}^{n} k^2 \binom{n}{k} = n^2 + \sum_{k=1}^{n-1} k^2 \binom{n}{k} \\
    &= n^2 + \sum_{k=1}^{n-1} k^2 \binom{n-1}{k-1} + \sum_{k=1}^{n-1} k^2 \binom{n-1}{k} \\
    &= n^2 + \sum_{k=1}^{n-1} k^2 \binom{n-1}{k-1} + S(n-1) \\
    &= \sum_{k=0}^{n-1} (k+1)^2 \binom{n-1}{k} + S(n-1)
\end{align}
于是
\begin{equation}
    S(n) - S(n-1) = \sum_{k=0}^{n-1} (k+1)^2 \binom{n-1}{k}
\end{equation}
于是
\begin{align}
    S(n) - S(n-1) - S(n-1) &= \sum_{k=0}^{n-1} (k+1)^2 \binom{n-1}{k} - \sum_{k=1}^{n-1} k^2 \binom{n-1}{k} \\
    &= \binom{n-1}{0} + \sum_{k=1}^{n-1} \left((k+1)^2 - k^2\right) \binom{n-1}{k} \\
    &= \binom{n-1}{0} + \sum_{k=1}^{n-1} \left(2k + 1\right) \binom{n-1}{k} \\
    &= \sum_{k=0}^{0} \left(2k+1\right) \binom{n-1}{k} + \sum_{k=1}^{n-1} \left(2k+1\right) \binom{n-1}{k} \\
    &= \sum_{k=0}^{n-1} \left(2k+1\right) \binom{n-1}{k} = \sum_{k=1}^{n} \left(2k-1\right) \binom{n-1}{k-1} \\
    &= \sum_{k=0}^{n-1} (2k+1) \binom{n-1}{k} = \sum_{k=0}^{n-1} \binom{n-1}{k} + 2\sum_{k=0}^{n-1}k \binom{n-1}{k} \\
    &= \sum_{k=0}^{n-1} \binom{n-1}{k} + 2 \sum_{k=1}^{n-1} k \binom{n-1}{k} \\
    &= 2^{n-1} + 2 (n-1) 2^{n-2} = n 2^{n-1}
\end{align}
从而我们得
\begin{equation}
    S(n) - S(n-1) = n 2^{n-1} + S(n-1)
\end{equation}
对一般的$n \in \nat$都成立（注意：这个式子和归纳假设无关！）．下面，假设对于某个整数$k \in \nat$，有
\begin{equation}
    S(k) = k(k+1)2^{k-2}
\end{equation}
成立，那么
\begin{align}
    S(k+1) &= S(k) + S(k+1) - S(k) = k(k+1) 2^{k-2} + (k+1)2^{k} + k(k+1)2^{k-2} \\
    &= (k+2)(k+1)2^{k-1}.
\end{align}
从而式子$S(n) = n(n+1)2^{n-2}$对一般的$n \in \nat$都成立．\qed\bigskip

4. 若$f$是一个可导的周期函数，试证：$f^\prime$也是周期函数．

\prove 设$l > 0$是$f$的一个周期长度，任取$x_1 \in \real$，我们知道$f^{\prime}(x_0)$是存在的，下面来计算$f^{\prime}(x_0 + l)$，依定义：
\begin{align}
    f^{\prime}(x_0 + l) &= \lim_{h \to 0} \frac{f(x_0+l+h)-f(x_0+l)}{h} \\
    &= \lim_{h \to 0} \frac{f(x_0+h + l)-f(x_0)}{h} \\
    &= \lim_{h \to 0} \frac{f(x_0+h)-f(x_0)}{h} \\
    &= f^{\prime}(x_0).
\end{align}
这足以说明$f^{\prime}$是周期的．\qed\bigskip

5. 证明：
\begin{tasks}(1)
    \task 若$f$是可导的奇函数，则$f^\prime$是偶函数；
    \task 若$f$是可导的偶函数，则$f^\prime$是奇函数．
\end{tasks}
对以上命题做几何解释．

(1) \prove 任取$x_0 \in \real$，依定义
\begin{align}
    f^{\prime}(-x_0) &= \lim_{h \to 0} \frac{f(-x_0 + h) - f(-x_0)}{h} \\
    &= \lim_{h \to 0} \frac{f(-(x_0-h))-(-f(x_0))}{h} \\
    &= \lim_{h \to 0} \frac{-f(x_0-h)+f(x_0)}{h} \\
    &= \lim_{-h \to 0} \frac{f(x_0 - h)-f(x_0)}{-h} \\
    &= \lim_{-h \to 0} \frac{f(x_0 + (- h))-f(x_0)}{-h} \\
    &= f^{\prime}(x_0).
\end{align}
从而若$f$是奇的，则$f^{\prime}$是偶的．\qed\bigskip

(2) \prove 任取$x_0 \in \real$，依定义
\begin{align}
    f^{\prime}(-x_0) &= \lim_{h \to 0} \frac{f(-x_0+h)-f(-x_0)}{h} \\
    &= \lim_{h \to 0} \frac{f(h-x_0)-f(x_0)}{h} \\
    &= \lim_{h \to 0} \frac{f(x_0-h)-f(x_0)}{h} \\
    &= \lim_{-h \to 0} \frac{f(x_0+(-h))-f(x_0)}{-(-h)} \\
    &= \lim_{-h \to 0} -\frac{f(x_0+(-h))-f(x_0)}{-h} \\
    &= -\lim_{-h \to 0} \frac{f(x_0+(-h))-f(x_0)}{-h} \\
    &= -f^{\prime}(x_0).
\end{align}
从而若$f$是偶的，则$f^{\prime}$是奇的．\qed\bigskip

\textbf{解释．} 偶函数的图像是关于$y$轴对称的，因此在$x > 0$处的函数图像和$x<0$处的函数图像的爬升趋势（斜率）总是相反的，这就解释了为什么偶的$f$总有奇的$f^{\prime}$．奇函数的图像是始终上升的，因此如果在$x < 0$的切线的斜率是正的，那么它在$-x > 0$的切线的斜率也还得是正的，故$f^{\prime}$是偶的．\qed\bigskip

6. 设$f$是一个三次多项式，且$f(a)=f(b)=0$．证明：函数$f$在$[a,b]$上不变号的充分必要条件是$f^{\prime}(a)f^{\prime}(b)\leq 0$．

\prove 

必要性．

若$f$在$[a,b]$恒为$0$结论显然成立，现在不失一般性假设$\forall x \in (a,b), f(x) > 0$．现计算$f^{\prime}_{+}(a)$，它等于
\begin{equation}
    \lim_{h \to 0^+} \frac{f(a+h)-f(a)}{h} > 0
\end{equation}
再计算$f^{\prime}_{-}(b)$，它等于
\begin{equation}
    \lim_{h \to 0^-} \frac{f(b+h)-f(b)}{h} < 0
\end{equation}
依连续性知$f^{\prime}(a)=f^{\prime}_{+}(a), f^{\prime}(b)=f^{\prime}_{-}(b)$，从而$f^{\prime}(a)f^{\prime}(b) < 0$．

充分性．